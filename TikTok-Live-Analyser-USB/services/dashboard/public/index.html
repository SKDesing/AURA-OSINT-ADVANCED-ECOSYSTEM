<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCIS Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0F0F0F 0%, #1A1A1A 100%);
            color: white; min-height: 100vh;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .header { text-align: center; margin-bottom: 60px; }
        .title { 
            font-size: 3rem; 
            background: linear-gradient(90deg, #FF0050, #25F4EE);
            -webkit-background-clip: text; background-clip: text; color: transparent;
            margin-bottom: 20px;
        }
        .subtitle { color: #B0B0B0; font-size: 1.2rem; }
        .services-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
            gap: 30px; margin-bottom: 60px;
        }
        .service-card { 
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px; padding: 30px; text-align: center;
            transition: all 0.3s ease; cursor: pointer;
        }
        .service-card:hover { 
            transform: translateY(-5px); border-color: #25F4EE;
            box-shadow: 0 10px 30px rgba(37, 244, 238, 0.2);
        }
        .service-icon { font-size: 3rem; margin-bottom: 20px; }
        .service-title { font-size: 1.5rem; margin-bottom: 15px; color: #25F4EE; }
        .service-desc { color: #B0B0B0; margin-bottom: 20px; }
        .service-port { 
            background: #FF0050; color: white; padding: 5px 15px; 
            border-radius: 20px; font-size: 0.9rem; display: inline-block;
        }
        .stats { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 20px; margin-bottom: 40px;
        }
        .stat-card { 
            background: rgba(255, 255, 255, 0.05); padding: 20px;
            border-radius: 10px; text-align: center;
        }
        .stat-number { font-size: 2rem; color: #25F4EE; font-weight: bold; }
        .stat-label { color: #B0B0B0; margin-top: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">üéØ SCIS Dashboard</h1>
            <p class="subtitle">Syst√®me de Cartographie d'Influence Sociale - Architecture Microservices</p>
        </div>

        <div class="stats" id="stats">
            <div class="stat-card">
                <div class="stat-number" id="servicesActifs">-</div>
                <div class="stat-label">Services Actifs</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="profilsAnalyses">-</div>
                <div class="stat-label">Profils Analys√©s</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="tablesForensiques">-</div>
                <div class="stat-label">Tables Forensiques</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="disponibilite">-</div>
                <div class="stat-label">Disponibilit√©</div>
            </div>
        </div>

        <div class="services-grid">
            <div class="service-card" onclick="window.open('/analyser', '_blank')">
                <div class="service-icon">üì°</div>
                <div class="service-title">TikTok Analyser</div>
                <div class="service-desc">Analyse en temps r√©el des lives TikTok</div>
                <div class="service-port">Port 3002</div>
            </div>

            <div class="service-card" onclick="window.open('/profiles', '_blank')">
                <div class="service-icon">üë•</div>
                <div class="service-title">Profils Manager</div>
                <div class="service-desc">Gestion des profils forensiques</div>
                <div class="service-port">Port 3003</div>
            </div>

            <div class="service-card" onclick="window.open('/lives', '_blank')">
                <div class="service-icon">üé•</div>
                <div class="service-title">Lives Monitor</div>
                <div class="service-desc">Surveillance des lives actifs</div>
                <div class="service-port">Port 3004</div>
            </div>

            <div class="service-card" onclick="window.open('/create', '_blank')">
                <div class="service-icon">‚ûï</div>
                <div class="service-title">Profile Creator</div>
                <div class="service-desc">Cr√©ation de profils complets</div>
                <div class="service-port">Port 3005</div>
            </div>

            <div class="service-card" onclick="window.open('/database', '_blank')">
                <div class="service-icon">üóÑÔ∏è</div>
                <div class="service-title">Database Explorer</div>
                <div class="service-desc">Exploration de la base forensique</div>
                <div class="service-port">Port 3006</div>
            </div>

            <div class="service-card" onclick="window.open('/reports', '_blank')">
                <div class="service-icon">üìã</div>
                <div class="service-title">Reports Generator</div>
                <div class="service-desc">G√©n√©ration de rapports d'enqu√™te</div>
                <div class="service-port">Port 3007</div>
            </div>
        </div>

        <div style="text-align: center; color: #666; margin-top: 40px;">
            <p>üê≥ Architecture Microservices - Routage via Gateway Nginx</p>
            <p>Gateway: Port 8080 | PostgreSQL: Port 5433 | Redis: Port 6379</p>
        </div>
    </div>

    <script>
        // Chargement des statistiques dynamiques
        async function loadStats() {
            try {
                const response = await fetch('/api/stats');
                const stats = await response.json();
                
                document.getElementById('servicesActifs').textContent = stats.servicesActifs;
                document.getElementById('profilsAnalyses').textContent = stats.profilsAnalyses;
                document.getElementById('tablesForensiques').textContent = stats.tablesForensiques;
                document.getElementById('disponibilite').textContent = stats.disponibilite;
            } catch (error) {
                console.error('Erreur lors du chargement des statistiques:', error);
            }
        }

        // Chargement initial
        loadStats();
        
        // Actualisation toutes les 30 secondes
        setInterval(loadStats, 30000);
    </script>
</body>
</html>