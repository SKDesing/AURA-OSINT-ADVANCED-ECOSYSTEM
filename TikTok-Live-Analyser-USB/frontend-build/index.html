<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="theme-color" content="#fe2c55" />
    <title>SCIS Dashboard - Interface Forensique Compl√®te</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #000000 0%, #161823 100%);
            color: #ffffff;
            transition: all 0.3s ease;
        }
        
        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: rgba(22, 24, 35, 0.95);
            border-right: 1px solid #2f2f3a;
            transition: transform 0.3s ease;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }
        
        .sidebar.collapsed {
            transform: translateX(-240px);
        }
        
        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid #2f2f3a;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .sidebar-header h3 {
            margin: 0;
            background: linear-gradient(45deg, #fe2c55, #25f4ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .toggle-btn {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .sidebar-nav {
            flex: 1;
            padding: 1rem 0;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            color: #a8a8b3;
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            cursor: pointer;
        }
        
        .nav-item:hover, .nav-item.active {
            background: rgba(254, 44, 85, 0.1);
            color: #ffffff;
            border-left-color: #fe2c55;
        }
        
        .nav-icon {
            margin-right: 1rem;
            font-size: 1.2rem;
        }
        
        .sidebar-footer {
            padding: 1rem;
            border-top: 1px solid #2f2f3a;
        }
        
        .theme-toggle {
            width: 100%;
            padding: 0.8rem;
            background: rgba(37, 244, 238, 0.1);
            border: 1px solid #25f4ee;
            color: #ffffff;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        /* Main Content */
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            transition: margin-left 0.3s ease;
        }
        
        .main-content.expanded {
            margin-left: 40px;
        }
        
        .top-bar {
            background: rgba(0, 0, 0, 0.9);
            padding: 1rem 2rem;
            border-bottom: 1px solid #2f2f3a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .top-bar-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .page-title {
            margin: 0;
            font-size: 1.5rem;
            background: linear-gradient(45deg, #fe2c55, #25f4ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .top-bar-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .connection-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(22, 24, 35, 0.8);
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4ade80;
        }
        
        .status-dot.disconnected {
            background: #ef4444;
        }
        
        .refresh-btn {
            background: rgba(37, 244, 238, 0.1);
            border: 1px solid #25f4ee;
            color: #ffffff;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
        }
        
        /* Content Sections */
        .content-section {
            display: none;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .content-section.active {
            display: block;
        }
        
        /* Dashboard Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: rgba(22, 24, 35, 0.6);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #2f2f3a;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #fe2c55;
        }
        
        .stat-label {
            color: #a8a8b3;
            font-size: 0.9rem;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .service-card {
            background: rgba(22, 24, 35, 0.9);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid #2f2f3a;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
            border-color: #fe2c55;
            box-shadow: 0 10px 30px rgba(254, 44, 85, 0.2);
        }
        
        .service-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .service-icon {
            font-size: 2rem;
            margin-right: 1rem;
        }
        
        .service-title {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .service-port {
            background: linear-gradient(45deg, #25f4ee, #45b7d1);
            color: #000;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: auto;
        }
        
        .service-desc {
            color: #a8a8b3;
            margin-bottom: 1rem;
            line-height: 1.4;
        }
        
        .service-status {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        /* Profiles Styles */
        .profiles-header {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .profiles-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }
        
        .profile-card {
            background: rgba(22, 24, 35, 0.8);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #2f2f3a;
        }
        
        .risk-level {
            padding: 0.2rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .risk-level.low { background: #22c55e; color: #000; }
        .risk-level.medium { background: #f59e0b; color: #000; }
        .risk-level.high { background: #ef4444; color: #fff; }
        
        /* Database Styles */
        .database-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }
        
        .table-item {
            padding: 1rem;
            background: rgba(22, 24, 35, 0.6);
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 0.5rem;
            transition: background 0.3s;
        }
        
        .table-item:hover {
            background: rgba(254, 44, 85, 0.1);
        }
        
        .btn {
            background: linear-gradient(45deg, #fe2c55, #ff6b35);
            border: none;
            padding: 0.8rem 1.5rem;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        /* Light Theme */
        body.light-theme {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #1a202c;
        }
        
        body.light-theme .sidebar {
            background: rgba(255, 255, 255, 0.95);
            border-right-color: #e2e8f0;
        }
        
        body.light-theme .nav-item {
            color: #4a5568;
        }
        
        body.light-theme .nav-item:hover, body.light-theme .nav-item.active {
            color: #1a202c;
        }
        
        body.light-theme .top-bar {
            background: rgba(255, 255, 255, 0.9);
            border-bottom-color: #e2e8f0;
        }
        
        body.light-theme .service-card, body.light-theme .stat-card, body.light-theme .profile-card {
            background: rgba(255, 255, 255, 0.9);
            border-color: #e2e8f0;
            color: #1a202c;
        }
        
        body.light-theme .service-desc {
            color: #4a5568;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            .sidebar.show {
                transform: translateX(0);
            }
            .main-content {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar Navigation -->
    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h3>üéØ SCIS</h3>
            <button id="toggleSidebar" class="toggle-btn">‚ò∞</button>
        </div>
        <nav class="sidebar-nav">
            <div class="nav-item active" onclick="showSection('dashboard')">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Dashboard</span>
            </div>
            <div class="nav-item" onclick="showSection('profiles')">
                <span class="nav-icon">üë•</span>
                <span class="nav-text">Profils</span>
            </div>
            <div class="nav-item" onclick="showSection('live')">
                <span class="nav-icon">üì°</span>
                <span class="nav-text">Live Monitor</span>
            </div>
            <div class="nav-item" onclick="showSection('osint')">
                <span class="nav-icon">üîç</span>
                <span class="nav-text">OSINT Tools</span>
            </div>
            <div class="nav-item" onclick="showSection('database')">
                <span class="nav-icon">üóÑÔ∏è</span>
                <span class="nav-text">Base de Donn√©es</span>
            </div>
            <div class="nav-item" onclick="showSection('reports')">
                <span class="nav-icon">üìã</span>
                <span class="nav-text">Rapports</span>
            </div>
            <div class="nav-item" onclick="showSection('settings')">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-text">Param√®tres</span>
            </div>
        </nav>
        <div class="sidebar-footer">
            <button id="themeToggle" class="theme-toggle">
                <span id="themeIcon">üåô</span>
                <span id="themeText">Mode Nuit</span>
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-bar-left">
                <h1 class="page-title">üéØ SCIS Dashboard</h1>
            </div>
            <div class="top-bar-right">
                <div class="connection-status" id="connectionStatus">
                    <span class="status-dot"></span>
                    <span>Connexion Backend</span>
                </div>
                <button id="refreshData" class="refresh-btn">üîÑ</button>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard-section" class="content-section active">
            <h2>Syst√®me de Cartographie d'Influence Sociale - Architecture Microservices</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="servicesCount">7</div>
                    <div class="stat-label">Services Actifs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="profilesCount">0</div>
                    <div class="stat-label">Profils Analys√©s</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">17</div>
                    <div class="stat-label">Tables Forensiques</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="uptime">100%</div>
                    <div class="stat-label">Disponibilit√©</div>
                </div>
            </div>

            <div class="dashboard">
                <div class="service-card" onclick="openService('tiktok', 4002)">
                    <div class="service-header">
                        <div class="service-icon">üì°</div>
                        <div>
                            <div class="service-title">TikTok Analyser</div>
                        </div>
                        <div class="service-port">Port 4002</div>
                    </div>
                    <div class="service-desc">Analyse en temps r√©el des lives TikTok</div>
                    <div class="service-status">
                        <div class="status-dot"></div>
                        Actif - Pr√™t pour capture
                    </div>
                </div>

                <div class="service-card" onclick="openService('profiles', 4003)">
                    <div class="service-header">
                        <div class="service-icon">üë•</div>
                        <div>
                            <div class="service-title">Profils Manager</div>
                        </div>
                        <div class="service-port">Port 4003</div>
                    </div>
                    <div class="service-desc">Gestion des profils forensiques</div>
                    <div class="service-status">
                        <div class="status-dot"></div>
                        <span id="profilesStatus">Actif - 0 profils en base</span>
                    </div>
                </div>

                <div class="service-card" onclick="openService('monitor', 4004)">
                    <div class="service-header">
                        <div class="service-icon">üé•</div>
                        <div>
                            <div class="service-title">Lives Monitor</div>
                        </div>
                        <div class="service-port">Port 4004</div>
                    </div>
                    <div class="service-desc">Surveillance des lives actifs</div>
                    <div class="service-status">
                        <div class="status-dot"></div>
                        Actif - Monitoring 24/7
                    </div>
                </div>

                <div class="service-card" onclick="openService('creator', 4005)">
                    <div class="service-header">
                        <div class="service-icon">‚ûï</div>
                        <div>
                            <div class="service-title">Profile Creator</div>
                        </div>
                        <div class="service-port">Port 4005</div>
                    </div>
                    <div class="service-desc">Cr√©ation de profils complets</div>
                    <div class="service-status">
                        <div class="status-dot"></div>
                        Actif - Wizard disponible
                    </div>
                </div>

                <div class="service-card" onclick="openService('database', 4006)">
                    <div class="service-header">
                        <div class="service-icon">üóÑÔ∏è</div>
                        <div>
                            <div class="service-title">Database Explorer</div>
                        </div>
                        <div class="service-port">Port 4006</div>
                    </div>
                    <div class="service-desc">Exploration de la base forensique</div>
                    <div class="service-status">
                        <div class="status-dot"></div>
                        Actif - 17 tables disponibles
                    </div>
                </div>

                <div class="service-card" onclick="openService('reports', 4007)">
                    <div class="service-header">
                        <div class="service-icon">üìã</div>
                        <div>
                            <div class="service-title">Reports Generator</div>
                        </div>
                        <div class="service-port">Port 4007</div>
                    </div>
                    <div class="service-desc">G√©n√©ration de rapports d'enqu√™te</div>
                    <div class="service-status">
                        <div class="status-dot"></div>
                        Actif - Export PDF/Excel
                    </div>
                </div>
            </div>
        </div>

        <!-- Profiles Section -->
        <div id="profiles-section" class="content-section">
            <h2>Gestion des Profils</h2>
            <div class="profiles-container">
                <div class="profiles-header">
                    <button class="btn" onclick="createProfile()">‚ûï Nouveau Profil</button>
                    <button class="btn" onclick="loadProfiles()">üîÑ Actualiser</button>
                </div>
                <div id="profilesList" class="profiles-list">
                    <p>Chargement des profils...</p>
                </div>
            </div>
        </div>

        <!-- Live Monitor Section -->
        <div id="live-section" class="content-section">
            <h2>Monitoring Live</h2>
            <div class="live-container">
                <div id="liveStreams" class="live-streams">
                    <p>Recherche de streams actifs...</p>
                </div>
            </div>
        </div>

        <!-- OSINT Section -->
        <div id="osint-section" class="content-section">
            <h2>Outils OSINT</h2>
            <div class="osint-container">
                <p>Outils OSINT disponibles - Sherlock, theHarvester, SpiderFoot, ExifTool</p>
            </div>
        </div>

        <!-- Database Section -->
        <div id="database-section" class="content-section">
            <h2>Base de Donn√©es</h2>
            <div class="database-container">
                <div class="tables-list">
                    <h3>Tables Disponibles</h3>
                    <div id="tablesList">
                        <p>Chargement des tables...</p>
                    </div>
                </div>
                <div class="table-content">
                    <h3>Contenu de la Table</h3>
                    <div id="tableContent">
                        <p>S√©lectionnez une table pour voir son contenu</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reports Section -->
        <div id="reports-section" class="content-section">
            <h2>G√©n√©ration de Rapports</h2>
            <div class="reports-container">
                <p>Outils de g√©n√©ration de rapports forensiques</p>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings-section" class="content-section">
            <h2>Param√®tres</h2>
            <div class="settings-container">
                <p>Configuration du syst√®me SCIS</p>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let isConnected = false;
        let currentTheme = 'dark';
        let profilesData = [];
        
        // Gestion de la sidebar
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.querySelector('.main-content');
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');
        }
        
        // Gestion des sections
        function showSection(sectionName) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById(sectionName + '-section').classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[onclick="showSection('${sectionName}')"]`).classList.add('active');
            
            loadSectionData(sectionName);
        }
        
        // Chargement des donn√©es par section
        function loadSectionData(section) {
            switch(section) {
                case 'profiles':
                    loadProfiles();
                    break;
                case 'database':
                    loadTables();
                    break;
                case 'live':
                    loadLiveStreams();
                    break;
            }
        }
        
        // Gestion du th√®me
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            if (currentTheme === 'dark') {
                body.classList.add('light-theme');
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = 'Mode Jour';
                currentTheme = 'light';
            } else {
                body.classList.remove('light-theme');
                themeIcon.textContent = 'üåô';
                themeText.textContent = 'Mode Nuit';
                currentTheme = 'dark';
            }
        }
        
        // Test de connexion backend
        async function checkBackendConnection() {
            try {
                const response = await fetch('http://localhost:4005/api/health');
                if (response.ok) {
                    isConnected = true;
                    document.querySelector('.status-dot').classList.remove('disconnected');
                    document.querySelector('#connectionStatus span:last-child').textContent = 'Connect√©';
                } else {
                    throw new Error('Backend non accessible');
                }
            } catch (error) {
                isConnected = false;
                document.querySelector('.status-dot').classList.add('disconnected');
                document.querySelector('#connectionStatus span:last-child').textContent = 'D√©connect√©';
            }
        }
        
        // Chargement des profils
        async function loadProfiles() {
            const profilesList = document.getElementById('profilesList');
            try {
                const response = await fetch('http://localhost:4005/api/profiles');
                const data = await response.json();
                
                if (data.success && data.profiles.length > 0) {
                    profilesData = data.profiles;
                    document.getElementById('profilesCount').textContent = data.profiles.length;
                    document.getElementById('profilesStatus').textContent = `Actif - ${data.profiles.length} profils en base`;
                    
                    profilesList.innerHTML = data.profiles.map(profile => `
                        <div class="profile-card">
                            <h4>@${profile.username}</h4>
                            <p>${profile.displayName || 'Pas de nom'}</p>
                            <span class="risk-level ${profile.riskLevel}">${profile.riskLevel}</span>
                            <small>${new Date(profile.createdAt).toLocaleDateString()}</small>
                        </div>
                    `).join('');
                } else {
                    profilesList.innerHTML = '<p>Aucun profil trouv√©</p>';
                    document.getElementById('profilesCount').textContent = '0';
                }
            } catch (error) {
                profilesList.innerHTML = '<p>Erreur de connexion au backend</p>';
            }
        }
        
        // Chargement des tables
        async function loadTables() {
            const tablesList = document.getElementById('tablesList');
            const tables = ['profiles', 'sessions', 'comments', 'evidence', 'logs'];
            
            tablesList.innerHTML = tables.map(table => `
                <div class="table-item" onclick="loadTableContent('${table}')">
                    <span>üóÑÔ∏è ${table}</span>
                    <small>Cliquer pour voir le contenu</small>
                </div>
            `).join('');
        }
        
        // Chargement du contenu d'une table
        async function loadTableContent(tableName) {
            const tableContent = document.getElementById('tableContent');
            tableContent.innerHTML = `<p>Chargement du contenu de la table ${tableName}...</p>`;
            
            if (tableName === 'profiles' && profilesData.length > 0) {
                tableContent.innerHTML = `
                    <h4>Table: ${tableName}</h4>
                    <div class="table-data">
                        ${profilesData.map(profile => `
                            <div style="border: 1px solid #2f2f3a; padding: 1rem; margin: 0.5rem 0; border-radius: 8px;">
                                <strong>ID:</strong> ${profile.id}<br>
                                <strong>Username:</strong> @${profile.username}<br>
                                <strong>Risk Level:</strong> ${profile.riskLevel}<br>
                                <strong>Created:</strong> ${new Date(profile.createdAt).toLocaleString()}
                            </div>
                        `).join('')}
                    </div>
                `;
            } else {
                setTimeout(() => {
                    tableContent.innerHTML = `
                        <h4>Table: ${tableName}</h4>
                        <div class="table-data">
                            <p>Table ${tableName} - Connexion √† la base de donn√©es requise</p>
                            <p>Impl√©mentation PostgreSQL en cours...</p>
                        </div>
                    `;
                }, 1000);
            }
        }
        
        // Cr√©ation de profil
        function createProfile() {
            Swal.fire({
                title: '‚ûï Cr√©er un Nouveau Profil',
                html: `
                    <input id="username" class="swal2-input" placeholder="Nom d'utilisateur">
                    <input id="displayName" class="swal2-input" placeholder="Nom d'affichage">
                    <textarea id="bio" class="swal2-textarea" placeholder="Biographie"></textarea>
                    <select id="riskLevel" class="swal2-select">
                        <option value="low">Risque Faible</option>
                        <option value="medium">Risque Moyen</option>
                        <option value="high">Risque √âlev√©</option>
                    </select>
                `,
                showCancelButton: true,
                confirmButtonText: '‚úÖ Cr√©er',
                background: currentTheme === 'dark' ? '#161823' : '#ffffff',
                color: currentTheme === 'dark' ? '#ffffff' : '#1a202c',
                preConfirm: () => {
                    const username = document.getElementById('username').value;
                    if (!username) {
                        Swal.showValidationMessage('Le nom d\'utilisateur est requis');
                        return false;
                    }
                    return {
                        username,
                        displayName: document.getElementById('displayName').value,
                        bio: document.getElementById('bio').value,
                        riskLevel: document.getElementById('riskLevel').value
                    };
                }
            }).then(async (result) => {
                if (result.isConfirmed) {
                    try {
                        const response = await fetch('http://localhost:4005/api/profiles', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(result.value)
                        });
                        const data = await response.json();
                        
                        if (data.success) {
                            Swal.fire('Succ√®s', 'Profil cr√©√© avec succ√®s', 'success');
                            loadProfiles();
                        } else {
                            Swal.fire('Erreur', data.error, 'error');
                        }
                    } catch (error) {
                        Swal.fire('Erreur', 'Impossible de cr√©er le profil', 'error');
                    }
                }
            });
        }
        
        // Chargement des streams live
        function loadLiveStreams() {
            const liveStreams = document.getElementById('liveStreams');
            liveStreams.innerHTML = '<p>Recherche de streams actifs...</p>';
            
            setTimeout(() => {
                liveStreams.innerHTML = '<p>Aucun stream TikTok actif d√©tect√©</p>';
            }, 2000);
        }
        
        // Ouverture des services
        function openService(service, port) {
            const services = {
                tiktok: {
                    title: 'üì° TikTok Analyser',
                    content: `
                        <div style="text-align: left;">
                            <h3>üé• Fonctionnalit√©s de Capture</h3>
                            <ul>
                                <li>‚úÖ Enregistrement vid√©o HD</li>
                                <li>‚úÖ Capture commentaires temps r√©el</li>
                                <li>‚úÖ Screenshots automatiques</li>
                                <li>‚úÖ M√©tadonn√©es forensiques</li>
                            </ul>
                            <br>
                            <p><strong>Port:</strong> ${port}</p>
                            <p><strong>Status:</strong> üü¢ Op√©rationnel</p>
                        </div>
                    `,
                    action: () => window.open(`http://localhost:${port}`, '_blank')
                },
                profiles: {
                    title: 'üë• Profils Manager',
                    content: `
                        <div style="text-align: left;">
                            <h3>üìä Gestion des Profils</h3>
                            <ul>
                                <li>‚úÖ ${profilesData.length} profils analys√©s</li>
                                <li>‚úÖ Scoring de risque</li>
                                <li>‚úÖ Historique d'activit√©</li>
                                <li>‚úÖ Export forensique</li>
                            </ul>
                            <br>
                            <p><strong>Port:</strong> ${port}</p>
                            <p><strong>Base:</strong> PostgreSQL</p>
                        </div>
                    `,
                    action: () => window.open(`http://localhost:${port}`, '_blank')
                },
                monitor: {
                    title: 'üé• Lives Monitor',
                    content: `
                        <div style="text-align: left;">
                            <h3>üì° Surveillance Continue</h3>
                            <ul>
                                <li>‚úÖ Monitoring 24/7</li>
                                <li>‚úÖ Alertes automatiques</li>
                                <li>‚úÖ Dashboard temps r√©el</li>
                                <li>‚úÖ Notifications push</li>
                            </ul>
                            <br>
                            <p><strong>Port:</strong> ${port}</p>
                            <p><strong>WebSocket:</strong> Actif</p>
                        </div>
                    `,
                    action: () => window.open(`http://localhost:${port}`, '_blank')
                },
                creator: {
                    title: '‚ûï Profile Creator',
                    content: `
                        <div style="text-align: left;">
                            <h3>üîß Cr√©ation de Profils</h3>
                            <ul>
                                <li>‚úÖ Wizard interactif</li>
                                <li>‚úÖ Validation automatique</li>
                                <li>‚úÖ Templates pr√©d√©finis</li>
                                <li>‚úÖ Int√©gration OSINT</li>
                            </ul>
                            <br>
                            <p><strong>Port:</strong> ${port}</p>
                            <p><strong>Interface:</strong> React</p>
                        </div>
                    `,
                    action: () => window.open(`http://localhost:${port}`, '_blank')
                },
                database: {
                    title: 'üóÑÔ∏è Database Explorer',
                    content: `
                        <div style="text-align: left;">
                            <h3>üíæ Base Forensique</h3>
                            <ul>
                                <li>‚úÖ 17 tables forensiques</li>
                                <li>‚úÖ Requ√™tes SQL avanc√©es</li>
                                <li>‚úÖ Export de donn√©es</li>
                                <li>‚úÖ Backup automatique</li>
                            </ul>
                            <br>
                            <p><strong>Port:</strong> ${port}</p>
                            <p><strong>SGBD:</strong> PostgreSQL 16</p>
                        </div>
                    `,
                    action: () => window.open(`http://localhost:${port}`, '_blank')
                },
                reports: {
                    title: 'üìã Reports Generator',
                    content: `
                        <div style="text-align: left;">
                            <h3>üìä G√©n√©ration de Rapports</h3>
                            <ul>
                                <li>‚úÖ PDF forensiques</li>
                                <li>‚úÖ Tableaux Excel</li>
                                <li>‚úÖ Archives ZIP</li>
                                <li>‚úÖ Certificats d'int√©grit√©</li>
                            </ul>
                            <br>
                            <p><strong>Port:</strong> ${port}</p>
                            <p><strong>Formats:</strong> PDF, Excel, ZIP</p>
                        </div>
                    `,
                    action: () => window.open(`http://localhost:${port}`, '_blank')
                }
            };

            const serviceInfo = services[service];
            if (serviceInfo) {
                Swal.fire({
                    title: serviceInfo.title,
                    html: serviceInfo.content,
                    icon: 'info',
                    showCancelButton: true,
                    confirmButtonText: 'üöÄ Ouvrir Service',
                    cancelButtonText: 'Fermer',
                    confirmButtonColor: '#fe2c55',
                    cancelButtonColor: '#6c757d',
                    background: currentTheme === 'dark' ? '#161823' : '#ffffff',
                    color: currentTheme === 'dark' ? '#ffffff' : '#1a202c'
                }).then((result) => {
                    if (result.isConfirmed) {
                        serviceInfo.action();
                    }
                });
            }
        }
        
        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialisation
            checkBackendConnection();
            setInterval(checkBackendConnection, 30000);
            
            // Event listeners pour les boutons
            document.getElementById('toggleSidebar').addEventListener('click', toggleSidebar);
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            document.getElementById('refreshData').addEventListener('click', () => {
                checkBackendConnection();
                const activeSection = document.querySelector('.content-section.active').id.replace('-section', '');
                loadSectionData(activeSection);
            });
            
            // Charger les donn√©es initiales
            loadProfiles();
            loadTables();
            
            // Animation des cartes
            const cards = document.querySelectorAll('.service-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });

            // Message de bienvenue
            setTimeout(() => {
                Swal.fire({
                    title: 'üéØ SCIS Dashboard',
                    text: 'Syst√®me op√©rationnel - Navigation lat√©rale disponible',
                    icon: 'success',
                    timer: 3000,
                    showConfirmButton: false,
                    background: '#161823',
                    color: '#ffffff'
                });
            }, 1000);
        });
    </script>
</body>
</html>