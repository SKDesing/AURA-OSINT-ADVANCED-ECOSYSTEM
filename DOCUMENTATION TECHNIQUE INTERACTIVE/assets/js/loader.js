/**\n * ğŸ¬ AURA LOADER SYSTEM - Golden Ratio Animations\n * SÃ©quence de dÃ©marrage en 3 phases basÃ©e sur Î¦ (1.618)\n */\n\nclass AURALoader {\n  constructor() {\n    this.phi = 1.618;\n    this.currentPhase = 1;\n    this.progress = 0;\n    this.slogans = [\n      'ğŸ”¬ <strong>Science des donnÃ©es</strong> appliquÃ©e Ã  l\\'OSINT depuis 1.618 dÃ©cennies',\n      'ğŸ§¬ <strong>200+ profils synthÃ©tiques</strong> pour entraÃ®nement sans compromis Ã©thique',\n      'ğŸŒ <strong>Architecture distribuÃ©e</strong> : PostgreSQL + Redis + Qdrant + Qwen AI',\n      'âš¡ <strong>Temps rÃ©el</strong> : WebSocket + FastAPI + NestJS harmonisÃ©s',\n      'ğŸ¯ <strong>PrÃ©cision chirurgicale</strong> : Phone, Email, Username, Domain, Image OSINT',\n      'ğŸ›¡ï¸ <strong>SÃ©curitÃ© par conception</strong> : Chiffrement E2E + Audit logs complets',\n      'ğŸ¤– <strong>IA explicable</strong> : Chaque dÃ©cision tracÃ©e et justifiÃ©e',\n      'ğŸ“Š <strong>Visualisation immersive</strong> : D3.js + Chart.js + ApexCharts',\n      'ğŸŒ <strong>OSINT historique intÃ©grÃ©</strong> : Des archives 1800s aux blockchains 2024',\n      'âœ¨ <strong>Design Î¦ (1.618)</strong> : Harmonie mathÃ©matique en chaque pixel'\n    ];\n    this.currentSloganIndex = 0;\n    this.sloganInterval = null;\n    \n    this.bindEvents();\n  }\n\n  /**\n   * ğŸš€ DÃ©marre la sÃ©quence de chargement\n   */\n  start() {\n    console.log('ğŸ¬ DÃ©marrage sÃ©quence AURA Loader (Î¦-based)');\n    \n    // CrÃ©er les particules de fond\n    this.createParticles();\n    \n    // Phase 1: Logo gÃ©ant + texte (4 secondes Î¦)\n    this.startPhase1();\n    \n    setTimeout(() => {\n      this.startPhase2();\n    }, 4000 * this.phi); // ~6.472s\n    \n    setTimeout(() => {\n      this.startPhase3();\n    }, 8000 * this.phi); // ~12.944s\n    \n    setTimeout(() => {\n      this.completeLoading();\n    }, 15000 * this.phi); // ~24.27s\n  }\n\n  /**\n   * ğŸ­ Phase 1: Logo gÃ©ant avec spirale dorÃ©e\n   */\n  startPhase1() {\n    console.log('ğŸ“ Phase 1: Logo gÃ©ant + Animation spirale');\n    \n    const phase1 = document.querySelector('.phase-1');\n    if (phase1) {\n      phase1.classList.add('active');\n      \n      // Animation des mots avec dÃ©lais Î¦\n      const words = phase1.querySelectorAll('.word');\n      words.forEach((word, index) => {\n        setTimeout(() => {\n          word.style.animationDelay = '0s';\n          word.style.opacity = '1';\n          word.style.transform = 'translateY(0) rotateX(0)';\n        }, index * 500 * this.phi); // DÃ©lais croissants\n      });\n    }\n  }\n\n  /**\n   * ğŸ·ï¸ Phase 2: Banderoles d'annonces\n   */\n  startPhase2() {\n    console.log('ğŸ“ Phase 2: Banderoles technologiques');\n    \n    // Masquer phase 1\n    const phase1 = document.querySelector('.phase-1');\n    if (phase1) {\n      phase1.classList.remove('active');\n    }\n    \n    // Activer phase 2\n    const phase2 = document.querySelector('.phase-2');\n    if (phase2) {\n      phase2.classList.add('active');\n      \n      // Animer les banderoles une par une\n      const banners = phase2.querySelectorAll('.announcement-banner');\n      banners.forEach((banner, index) => {\n        setTimeout(() => {\n          banner.style.opacity = '1';\n          banner.style.transform = 'translateX(0)';\n        }, index * 300 * this.phi); // DÃ©lais Î¦\n      });\n    }\n  }\n\n  /**\n   * ğŸ“Š Phase 3: Progress bar + slogans dÃ©filants\n   */\n  startPhase3() {\n    console.log('ğŸ“ Phase 3: Progress bar + Slogans techniques');\n    \n    // Masquer phase 2\n    const phase2 = document.querySelector('.phase-2');\n    if (phase2) {\n      phase2.classList.remove('active');\n    }\n    \n    // Activer phase 3\n    const phase3 = document.querySelector('.phase-3');\n    if (phase3) {\n      phase3.classList.add('active');\n      \n      // DÃ©marrer la progress bar\n      this.animateProgressBar();\n      \n      // DÃ©marrer les slogans dÃ©filants\n      this.startSlogans();\n    }\n  }\n\n  /**\n   * ğŸ“ˆ Animation de la progress bar dorÃ©e\n   */\n  animateProgressBar() {\n    const progressBar = document.getElementById('phi-progress-bar');\n    const progressText = document.getElementById('progress-text');\n    const progressPercent = document.getElementById('progress-percent');\n    \n    if (!progressBar) return;\n    \n    const steps = [\n      { percent: 0, text: 'Initialisation des modules...' },\n      { percent: 16, text: 'Chargement base de donnÃ©es Î¦...' },\n      { percent: 32, text: 'Connexion Qwen AI 2.5...' },\n      { percent: 48, text: 'Synchronisation OSINT tools...' },\n      { percent: 64, text: 'VÃ©rification sÃ©curitÃ© E2E...' },\n      { percent: 80, text: 'Optimisation golden ratio...' },\n      { percent: 96, text: 'Finalisation interface...' },\n      { percent: 100, text: 'SystÃ¨me prÃªt !' }\n    ];\n    \n    let currentStep = 0;\n    \n    const updateProgress = () => {\n      if (currentStep >= steps.length) return;\n      \n      const step = steps[currentStep];\n      \n      // Animer la barre\n      progressBar.style.width = `${step.percent}%`;\n      \n      // Mettre Ã  jour le texte\n      if (progressText) {\n        progressText.textContent = step.text;\n      }\n      \n      if (progressPercent) {\n        progressPercent.textContent = `${step.percent}%`;\n      }\n      \n      currentStep++;\n      \n      if (currentStep < steps.length) {\n        setTimeout(updateProgress, 800 * this.phi); // DÃ©lai Î¦ entre Ã©tapes\n      }\n    };\n    \n    updateProgress();\n  }\n\n  /**\n   * ğŸ’¬ DÃ©marrage des slogans dÃ©filants\n   */\n  startSlogans() {\n    const slogansContainer = document.querySelector('.slogans-container');\n    if (!slogansContainer) return;\n    \n    // Afficher le premier slogan\n    this.showSlogan(0);\n    \n    // Rotation des slogans\n    this.sloganInterval = setInterval(() => {\n      this.currentSloganIndex = (this.currentSloganIndex + 1) % this.slogans.length;\n      this.showSlogan(this.currentSloganIndex);\n    }, 2000 * this.phi); // Changement toutes les ~3.236s\n  }\n\n  /**\n   * ğŸ“ Affiche un slogan spÃ©cifique\n   */\n  showSlogan(index) {\n    const slogans = document.querySelectorAll('.slogan');\n    \n    // Masquer tous les slogans\n    slogans.forEach(slogan => {\n      slogan.classList.remove('active');\n    });\n    \n    // Afficher le slogan actuel\n    if (slogans[index]) {\n      slogans[index].classList.add('active');\n    }\n  }\n\n  /**\n   * âœ¨ CrÃ©ation des particules dorÃ©es flottantes\n   */\n  createParticles() {\n    const loaderContainer = document.getElementById('aura-loader');\n    if (!loaderContainer) return;\n    \n    const particlesContainer = document.createElement('div');\n    particlesContainer.className = 'particles-container';\n    loaderContainer.appendChild(particlesContainer);\n    \n    // CrÃ©er 50 particules (nombre basÃ© sur Î¦)\n    const particleCount = Math.floor(50 * this.phi); // ~81 particules\n    \n    for (let i = 0; i < particleCount; i++) {\n      const particle = document.createElement('div');\n      particle.className = 'particle';\n      \n      // Position alÃ©atoire\n      particle.style.left = `${Math.random() * 100}%`;\n      particle.style.animationDelay = `${Math.random() * 10}s`;\n      particle.style.animationDuration = `${(8 + Math.random() * 4) * this.phi}s`;\n      \n      // Taille variable basÃ©e sur Î¦\n      const size = 1 + Math.random() * 3 * this.phi;\n      particle.style.width = `${size}px`;\n      particle.style.height = `${size}px`;\n      \n      particlesContainer.appendChild(particle);\n    }\n  }\n\n  /**\n   * âœ… Finalisation du chargement\n   */\n  completeLoading() {\n    console.log('âœ… Chargement terminÃ© - Transition vers authentification');\n    \n    // ArrÃªter les slogans\n    if (this.sloganInterval) {\n      clearInterval(this.sloganInterval);\n    }\n    \n    // Fade out du loader\n    const loaderContainer = document.getElementById('aura-loader');\n    if (loaderContainer) {\n      loaderContainer.classList.add('fadeout');\n      \n      setTimeout(() => {\n        loaderContainer.style.display = 'none';\n        \n        // Afficher l'Ã©cran d'authentification\n        const authContainer = document.getElementById('auth-container');\n        if (authContainer) {\n          authContainer.style.display = 'flex';\n          authContainer.style.opacity = '0';\n          \n          // Fade in de l'auth\n          setTimeout(() => {\n            authContainer.style.transition = `opacity ${this.phi}s ease`;\n            authContainer.style.opacity = '1';\n          }, 100);\n        }\n      }, 1000 * this.phi); // DÃ©lai Î¦ pour le fade out\n    }\n  }\n\n  /**\n   * ğŸ§ Liaison des Ã©vÃ©nements\n   */\n  bindEvents() {\n    // Skip loader (pour dÃ©veloppement)\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape') {\n        console.log('â­ï¸ Skip loader (ESC pressed)');\n        this.completeLoading();\n      }\n    });\n    \n    // Click pour skip (mobile)\n    document.addEventListener('click', (e) => {\n      if (e.target.closest('.loader-container')) {\n        console.log('â­ï¸ Skip loader (click detected)');\n        this.completeLoading();\n      }\n    });\n  }\n\n  /**\n   * ğŸ§¹ Nettoyage des ressources\n   */\n  destroy() {\n    if (this.sloganInterval) {\n      clearInterval(this.sloganInterval);\n    }\n    \n    // Supprimer les particules\n    const particlesContainer = document.querySelector('.particles-container');\n    if (particlesContainer) {\n      particlesContainer.remove();\n    }\n  }\n}\n\n// Initialisation globale\nwindow.AURALoader = new AURALoader();\n\n// Auto-start si DOM ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    // Le start sera appelÃ© depuis index.html\n  });\n} else {\n  // DOM dÃ©jÃ  prÃªt\n  console.log('ğŸ¬ AURALoader prÃªt (DOM loaded)');\n}\n\nconsole.log('ğŸ¬ AURALoader module chargÃ©');