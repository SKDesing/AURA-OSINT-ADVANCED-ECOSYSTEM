(()=>{var e={};e.id=109,e.ids=[109],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2468:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>p,routeModule:()=>m,tree:()=>d}),a(4029),a(3418),a(5866);var s=a(3191),r=a(8716),o=a(7922),n=a.n(o),i=a(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);a.d(t,l);let d=["",{children:["jobs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4029)),"/home/soufiane/Bureau/TikTok Live Analyser/frontend/src/app/jobs/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3418)),"/home/soufiane/Bureau/TikTok Live Analyser/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],p=["/home/soufiane/Bureau/TikTok Live Analyser/frontend/src/app/jobs/page.tsx"],c="/jobs/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/jobs/page",pathname:"/jobs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7493:(e,t,a)=>{Promise.resolve().then(a.bind(a,24)),Promise.resolve().then(a.bind(a,359))},24:(e,t,a)=>{"use strict";a.d(t,{JobsTable:()=>x});var s=a(326),r=a(7577),o=a(9837),n=a(6557);let i=(0,n.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),l=(0,n.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var d=a(4893),p=a(1540),c=a(116);function x(){let{events:e,isConnected:t}=(0,c.D)(["job.update","job.done"]),[a,n]=(0,r.useState)([]),x=e=>{switch(e){case"running":return"text-blue-600 bg-blue-100";case"done":return"text-green-600 bg-green-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm text-gray-600",children:t?"Temps r\xe9el connect\xe9":"Connexion perdue"})]}),a.length>0&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(o.z,{variant:"outline",size:"sm",leftIcon:s.jsx(i,{className:"w-4 h-4"}),children:["Pause (",a.length,")"]}),s.jsx(o.z,{variant:"danger",size:"sm",leftIcon:s.jsx(l,{className:"w-4 h-4"}),children:"Supprimer"})]})]}),s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cible"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Progression"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cr\xe9\xe9"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:[{id:"job_1",type:"TikTok Live",target:"@username_example",status:"running",progress:65,createdAt:"2024-01-15T10:30:00Z"},{id:"job_2",type:"Dorks OSINT",target:"Pack France Gov",status:"done",progress:100,createdAt:"2024-01-15T09:15:00Z"}].map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:a.includes(e.id),onChange:t=>{t.target.checked?n([...a,e.id]):n(a.filter(t=>t!==e.id))}})}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.type}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.target}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${x(e.status)}`,children:e.status})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${e.progress}%`}})}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[e.progress,"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleString("fr-FR")}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:["running"===e.status?s.jsx(o.z,{variant:"outline",size:"sm",children:s.jsx(i,{className:"w-4 h-4"})}):s.jsx(o.z,{variant:"outline",size:"sm",children:s.jsx(d.Z,{className:"w-4 h-4"})}),"done"===e.status&&s.jsx(o.z,{variant:"outline",size:"sm",children:s.jsx(p.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]})}},116:(e,t,a)=>{"use strict";a.d(t,{D:()=>v});var s=a(7577),r=a(770);let o=r.Z_().uuid(),n=r.Z_().datetime(),i=r.Z_().min(1);r.Ry({error:r.Ry({code:r.Z_(),message:r.Z_(),details:r.IM(r.Yj()).optional(),traceId:r.Z_().optional()})});let l=r.Ry({cursor:i.optional(),limit:r.Rx().min(1).max(100).default(20)}),d=r.Ry({nextCursor:i.optional(),prevCursor:i.optional(),hasMore:r.O7(),total:r.Rx().optional()}),p=r.Km(["queued","running","partial","done","error"]),c=r.Km(["tiktok_analyze","dorks_run","export","enrichment"]),x=r.Ry({id:o,type:c,status:p,progress:r.Rx().min(0).max(100).default(0),createdAt:n,updatedAt:n,userId:o,metadata:r.IM(r.Yj()).optional(),error:r.Z_().optional()});r.Ry({url:r.Z_().url().optional(),handle:r.Z_().regex(/^@?[a-zA-Z0-9._-]+$/).optional(),options:r.Ry({deep_search:r.O7().default(!1),duration_minutes:r.Rx().min(1).max(120).default(30),capture_chat:r.O7().default(!0),capture_metrics:r.O7().default(!0)}).optional()}).refine(e=>e.url||e.handle,{message:"Either url or handle must be provided"});let m=r.Ry({id:o,jobId:o,platform:r.i0("tiktok"),sourceRef:r.Z_(),metadata:r.Ry({title:r.Z_().optional(),author:r.Z_().optional(),authorId:r.Z_().optional(),viewers:r.Rx().optional(),duration:r.Rx().optional(),isLive:r.O7().optional()}),startedAt:n,endedAt:n.optional()}),u=r.Ry({id:o,sessionId:o,name:r.Km(["viewers","likes","shares","comments","gifts"]),value:r.Rx(),timestamp:n}),h=r.Ry({id:o,sessionId:o,author:r.Z_(),authorId:r.Z_().optional(),content:r.Z_(),timestamp:n,metadata:r.IM(r.Yj()).optional()});r.Ry({packId:o.optional(),query:r.Z_().min(1).optional(),variables:r.IM(r.Z_()).optional(),filters:r.Ry({domain:r.Z_().optional(),dateRange:r.Ry({start:n.optional(),end:n.optional()}).optional(),language:r.Z_().optional()}).optional(),options:r.Ry({throttle_ms:r.Rx().min(100).max(5e3).default(1e3),max_results:r.Rx().min(1).max(1e3).default(100),deep_search:r.O7().default(!1)}).optional()}).refine(e=>e.packId||e.query,{message:"Either packId or query must be provided"});let y=r.Ry({id:o,jobId:o,url:r.Z_().url(),title:r.Z_().optional(),snippet:r.Z_().optional(),domain:r.Z_(),score:r.Rx().min(0).max(1),timestamp:n,metadata:r.IM(r.Yj()).optional()}),j=r.Ry({id:o,name:r.Z_(),description:r.Z_().optional(),version:r.Z_(),scope:r.Km(["public","france","eu","custom"]),risk:r.Km(["low","medium","high"]),variables:r.IX(r.Ry({name:r.Z_(),description:r.Z_().optional(),required:r.O7().default(!1),default:r.Z_().optional()})),dorks:r.IX(r.Ry({id:r.Z_(),title:r.Z_(),query:r.Z_(),risk:r.Km(["low","medium","high"]),tags:r.IX(r.Z_()).optional()})),createdAt:n,updatedAt:n});r.Ry({jobId:o,format:r.Km(["json","csv","pdf","xlsx"]),options:r.Ry({includeMetadata:r.O7().default(!0),compression:r.Km(["none","gzip","zip"]).default("none"),password:r.Z_().optional()}).optional()});let g=r.Ry({id:o,jobId:o,format:r.Km(["json","csv","pdf","xlsx"]),status:r.Km(["pending","processing","ready","expired","error"]),downloadUrl:r.Z_().url().optional(),fileSize:r.Rx().optional(),expiresAt:n,createdAt:n}),f=r.Ry({id:r.Z_(),event:r.Km(["job.update","job.done","job.error","metrics.update","system.alert"]),data:r.Ry({jobId:o.optional(),status:p.optional(),progress:r.Rx().min(0).max(100).optional(),eta:n.optional(),payload:r.IM(r.Yj()).optional(),error:r.Z_().optional()}),timestamp:n}),_=e=>r.Ry({data:e,meta:r.Ry({timestamp:n,traceId:r.Z_().optional(),requestId:r.Z_().optional()}).optional()}),b=e=>r.Ry({data:r.IX(e),pagination:d,meta:r.Ry({timestamp:n,traceId:r.Z_().optional(),requestId:r.Z_().optional()}).optional()});function v(e=["job.update","job.done"]){let[t,a]=(0,s.useState)([]),[r,o]=(0,s.useState)(!1),n=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let t=new URLSearchParams;t.set("topics",e.join(","));let s=new EventSource(`http://localhost:4002/events?${t}`);return n.current=s,s.onopen=()=>o(!0),s.onerror=()=>o(!1),s.onmessage=e=>{try{let t=JSON.parse(e.data),s=f.parse(t);a(e=>[...e.slice(-99),s])}catch(e){console.error("SSE parse error:",e)}},()=>{s.close(),o(!1)}},[e.join(",")]),{events:t,isConnected:r}}r.Ry({email:r.Z_().email(),password:r.Z_().min(8)}),_(r.Ry({token:r.Z_(),refreshToken:r.Z_(),expiresIn:r.Rx()})),l.extend({status:p.optional(),type:c.optional()}),b(x),_(x),_(r.Ry({deleted:r.O7()})),_(r.Ry({jobId:o,status:p})),b(m),_(m.extend({metrics:r.IX(u).optional(),messages:r.IX(h).optional()})),_(r.Ry({jobId:o,status:p})),l.extend({jobId:o}),b(y),b(j),_(g),_(g),r.Ry({topics:r.Z_().optional(),jobId:o.optional()})},4029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(9510),r=a(1218);let o=(0,a(8570).createProxy)(String.raw`/home/soufiane/Bureau/TikTok Live Analyser/frontend/src/components/jobs/JobsTable.tsx#JobsTable`);function n(){return s.jsx(r.V,{children:s.jsx("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des Jobs"}),s.jsx("p",{className:"text-gray-600",children:"Suivez et g\xe9rez vos analyses en cours et termin\xe9es."})]}),s.jsx(o,{})]})})})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[381,746,705],()=>a(2468));module.exports=s})();